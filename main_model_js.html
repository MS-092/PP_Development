<!DOCTYPE html>
<html>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> <link>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"> </script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.jss"> </script>
  <script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"> </script>

  <head>
    <script>
      // Function definition model
      async function loadModel() {
        // Defined the model
        model = undefined
        // Pass the github url model into this line of code for executing the model
        model = await.tfjs.loadLayersModel("https://rawgithubusercontent.com/MS-092/PP_Development/main/model.json");
        // After the model loaded, it will show this and tell the users that the model is loaded.
        alert("Model is loaded!");
      }
      // For executing the function of the loadModel()
      loadModel();

      // Function that runs the model, running the nst_model
      function run_nst() {
        // Define the input and the output, the value
        var a, b, output;
        a = image(document.getElementById("first").value);
        b = image(document.getElementById("second").value);
        //Defined and import tensor structure and defined the 2 dimensional structure
        // I need to find about the tensor input_xs will fit with the images
        input_xs = tf.tensor2d([
          [a, b]
          ]);
        // I need to find about the element for running the neural style transfer model and working with the inputs
        output = model.run_nst(input_xs);
        // Convert the tensor into something that I can reference and called by data sync, and become something that can be indexed for the variable output data.
        // I need to think about using the output with images of the output
        const outputData = output.dataSync();
        // I might don't need this line of code function, but I need getting the id of the element for output image.
        // I need to make the the output data suitable with the image element for the output images.
        document.getElementById("answer").value = image(outputData[0] > 0.5);
      }
    </script>
  </head>

  <body>
    <center>
      <p>The content or the title of the product</p>
<!--Used for making the space or gap between them-->
      <br>
    </center>
    <!--So, the input also will be used as making a bigger box to preview the chosen images and the result of the image-->
    <center>Working as the input of the content image<input id="first"></center>
    <br> <br>
    <center>Working as the second input of the style image<input id="second"></center>
    <br> <br>
    <!--the run_nst() function is the model of the neural style transfer-->
    <center><button onclick="run_nst()">Run NST model</button></center>
    <br> <br>
    <center>Working as the output of the nst_model<input id="answer"></center>
    <br> <br>

</html>
